{"ast":null,"code":"var _jsxFileName = \"/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/AssignWork.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Container, Form, Row, Col, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AssignWork() {\n  _s();\n  const [error, setError] = useState([]);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    studentId\n  } = location.state;\n  const {\n    currentUser,\n    setStudents\n  } = useContext(UserContext);\n  const [assignmentData, setAssignmentData] = useState({\n    name: \"\",\n    notes: \"\",\n    subject: \"\",\n    tutor_id: currentUser.id,\n    student_id: studentId\n  });\n  const [file, setFile] = useState(null);\n  function handleChange(e) {\n    setAssignmentData({\n      ...assignmentData,\n      [e.target.name]: e.target.value\n    });\n  }\n  function handleFileChange(e) {\n    setFile({\n      file: e.target.files[0]\n    });\n  }\n  function onFormSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    for (let data in assignmentData) {\n      formData.append(data, assignmentData[data]);\n    }\n    if (file !== null) {\n      formData.append(\"file\", file.file);\n    }\n    fetch(\"/assignments\", {\n      method: \"POST\",\n      body: formData\n    }).then(resp => {\n      if (resp.ok) {\n        resp.json().then(newAssignment => {\n          console.log(newAssignment);\n          let studentsList = [...new Map(newAssignment.tutor.students.map(student => [student[\"id\"], student])).values()];\n          setStudents(studentsList);\n          navigate(\"/students\");\n        });\n      } else {\n        resp.json().then(error => setError(error.errors));\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginTop: \"24px\",\n      padding: \"24px\",\n      border: \".5px solid grey\",\n      borderRadius: \"8px\",\n      width: \"75%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        border: \".5px solid grey\",\n        marginBottom: \"24px\",\n        borderRadius: \"8px\",\n        padding: \"8px\"\n      },\n      children: \"Assignment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"name\",\n            value: assignmentData.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Subject:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"subject\",\n            value: assignmentData.subject,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: \"16px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Notes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            name: \"notes\",\n            value: assignmentData.notes,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: \"16px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"file\",\n            name: \"file\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          margin: \"16px\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"success\",\n          style: {\n            maxWidth: \"33%\"\n          },\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(AssignWork, \"AZ0/E4NA4VFz7QGE5EMuwJhSB1A=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AssignWork;\nexport default AssignWork;\nvar _c;\n$RefreshReg$(_c, \"AssignWork\");","map":{"version":3,"names":["React","useState","useContext","UserContext","useLocation","useNavigate","Container","Form","Row","Col","Button","AssignWork","error","setError","location","navigate","studentId","state","currentUser","setStudents","assignmentData","setAssignmentData","name","notes","subject","tutor_id","id","student_id","file","setFile","handleChange","e","target","value","handleFileChange","files","onFormSubmit","preventDefault","formData","FormData","data","append","fetch","method","body","then","resp","ok","json","newAssignment","console","log","studentsList","Map","tutor","students","map","student","values","errors","marginTop","padding","border","borderRadius","width","marginBottom","margin","justifyContent","maxWidth"],"sources":["/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/AssignWork.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Container, Form, Row, Col, Button } from \"react-bootstrap\";\n\nfunction AssignWork() {\n  const [error, setError] = useState([]);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { studentId } = location.state;\n  const { currentUser, setStudents } = useContext(UserContext);\n  const [assignmentData, setAssignmentData] = useState({\n    name: \"\",\n    notes: \"\",\n    subject: \"\",\n    tutor_id: currentUser.id,\n    student_id: studentId,\n  });\n  const [file, setFile] = useState(null);\n\n  function handleChange(e) {\n    setAssignmentData({ ...assignmentData, [e.target.name]: e.target.value });\n  }\n\n  function handleFileChange(e) {\n    setFile({ file: e.target.files[0] });\n  }\n\n  function onFormSubmit(e) {\n    e.preventDefault();\n\n    const formData = new FormData();\n\n    for (let data in assignmentData) {\n      formData.append(data, assignmentData[data]);\n    }\n\n    if (file !== null) {\n      formData.append(\"file\", file.file);\n    }\n\n    fetch(\"/assignments\", {\n      method: \"POST\",\n      body: formData,\n    }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((newAssignment) => {\n          console.log(newAssignment);\n          let studentsList = [\n            ...new Map(\n              newAssignment.tutor.students.map((student) => [\n                student[\"id\"],\n                student,\n              ])\n            ).values(),\n          ];\n          setStudents(studentsList);\n          navigate(\"/students\");\n        });\n      } else {\n        resp.json().then((error) => setError(error.errors));\n      }\n    });\n  }\n\n  return (\n    <Container\n      style={{\n        marginTop: \"24px\",\n        padding: \"24px\",\n        border: \".5px solid grey\",\n        borderRadius: \"8px\",\n        width: \"75%\",\n      }}\n    >\n      <h2\n        style={{\n          border: \".5px solid grey\",\n          marginBottom: \"24px\",\n          borderRadius: \"8px\",\n          padding: \"8px\",\n        }}\n      >\n        Assignment\n      </h2>\n      <Form onSubmit={onFormSubmit}>\n        <Row>\n          <Col>\n            <Form.Label>Name:</Form.Label>\n            <Form.Control\n              type='text'\n              name='name'\n              value={assignmentData.name}\n              onChange={handleChange}\n            />\n          </Col>\n          <Col>\n            <Form.Label>Subject:</Form.Label>\n            <Form.Control\n              type='text'\n              name='subject'\n              value={assignmentData.subject}\n              onChange={handleChange}\n            />\n          </Col>\n        </Row>\n        <Row style={{ marginTop: \"16px\" }}>\n          <Col>\n            <Form.Label>Notes:</Form.Label>\n            <Form.Control\n              as='textarea'\n              name='notes'\n              value={assignmentData.notes}\n              onChange={handleChange}\n            />\n          </Col>\n        </Row>\n        <Row style={{ marginTop: \"16px\" }}>\n          <Col>\n            <Form.Control type='file' name='file' onChange={handleFileChange} />\n          </Col>\n        </Row>\n        <Row\n          style={{\n            margin: \"16px\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Button type='submit' variant='success' style={{ maxWidth: \"33%\" }}>\n            Upload\n          </Button>\n        </Row>\n        {/* {error.map((error) => {\n          return <p key={error}>{error}</p>;\n        })} */}\n      </Form>\n    </Container>\n  );\n}\n\nexport default AssignWork;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,SAAS,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,iBAAiB;AAAC;AAEpE,SAASC,UAAU,GAAG;EAAA;EACpB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMa,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAMW,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAM;IAAEW;EAAU,CAAC,GAAGF,QAAQ,CAACG,KAAK;EACpC,MAAM;IAAEC,WAAW;IAAEC;EAAY,CAAC,GAAGjB,UAAU,CAACC,WAAW,CAAC;EAC5D,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC;IACnDqB,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAEP,WAAW,CAACQ,EAAE;IACxBC,UAAU,EAAEX;EACd,CAAC,CAAC;EACF,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAEtC,SAAS6B,YAAY,CAACC,CAAC,EAAE;IACvBV,iBAAiB,CAAC;MAAE,GAAGD,cAAc;MAAE,CAACW,CAAC,CAACC,MAAM,CAACV,IAAI,GAAGS,CAAC,CAACC,MAAM,CAACC;IAAM,CAAC,CAAC;EAC3E;EAEA,SAASC,gBAAgB,CAACH,CAAC,EAAE;IAC3BF,OAAO,CAAC;MAAED,IAAI,EAAEG,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC;IAAE,CAAC,CAAC;EACtC;EAEA,SAASC,YAAY,CAACL,CAAC,EAAE;IACvBA,CAAC,CAACM,cAAc,EAAE;IAElB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAE/B,KAAK,IAAIC,IAAI,IAAIpB,cAAc,EAAE;MAC/BkB,QAAQ,CAACG,MAAM,CAACD,IAAI,EAAEpB,cAAc,CAACoB,IAAI,CAAC,CAAC;IAC7C;IAEA,IAAIZ,IAAI,KAAK,IAAI,EAAE;MACjBU,QAAQ,CAACG,MAAM,CAAC,MAAM,EAAEb,IAAI,CAACA,IAAI,CAAC;IACpC;IAEAc,KAAK,CAAC,cAAc,EAAE;MACpBC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEN;IACR,CAAC,CAAC,CAACO,IAAI,CAAEC,IAAI,IAAK;MAChB,IAAIA,IAAI,CAACC,EAAE,EAAE;QACXD,IAAI,CAACE,IAAI,EAAE,CAACH,IAAI,CAAEI,aAAa,IAAK;UAClCC,OAAO,CAACC,GAAG,CAACF,aAAa,CAAC;UAC1B,IAAIG,YAAY,GAAG,CACjB,GAAG,IAAIC,GAAG,CACRJ,aAAa,CAACK,KAAK,CAACC,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK,CAC5CA,OAAO,CAAC,IAAI,CAAC,EACbA,OAAO,CACR,CAAC,CACH,CAACC,MAAM,EAAE,CACX;UACDvC,WAAW,CAACiC,YAAY,CAAC;UACzBrC,QAAQ,CAAC,WAAW,CAAC;QACvB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL+B,IAAI,CAACE,IAAI,EAAE,CAACH,IAAI,CAAEjC,KAAK,IAAKC,QAAQ,CAACD,KAAK,CAAC+C,MAAM,CAAC,CAAC;MACrD;IACF,CAAC,CAAC;EACJ;EAEA,oBACE,QAAC,SAAS;IACR,KAAK,EAAE;MACLC,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,MAAM;MACfC,MAAM,EAAE,iBAAiB;MACzBC,YAAY,EAAE,KAAK;MACnBC,KAAK,EAAE;IACT,CAAE;IAAA,wBAEF;MACE,KAAK,EAAE;QACLF,MAAM,EAAE,iBAAiB;QACzBG,YAAY,EAAE,MAAM;QACpBF,YAAY,EAAE,KAAK;QACnBF,OAAO,EAAE;MACX,CAAE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAGC,eACL,QAAC,IAAI;MAAC,QAAQ,EAAEzB,YAAa;MAAA,wBAC3B,QAAC,GAAG;QAAA,wBACF,QAAC,GAAG;UAAA,wBACF,QAAC,IAAI,CAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAmB,eAC9B,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,IAAI,EAAC,MAAM;YACX,KAAK,EAAEhB,cAAc,CAACE,IAAK;YAC3B,QAAQ,EAAEQ;UAAa;YAAA;YAAA;YAAA;UAAA,QACvB;QAAA;UAAA;UAAA;UAAA;QAAA,QACE,eACN,QAAC,GAAG;UAAA,wBACF,QAAC,IAAI,CAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAsB,eACjC,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,IAAI,EAAC,SAAS;YACd,KAAK,EAAEV,cAAc,CAACI,OAAQ;YAC9B,QAAQ,EAAEM;UAAa;YAAA;YAAA;YAAA;UAAA,QACvB;QAAA;UAAA;UAAA;UAAA;QAAA,QACE;MAAA;QAAA;QAAA;QAAA;MAAA,QACF,eACN,QAAC,GAAG;QAAC,KAAK,EAAE;UAAE8B,SAAS,EAAE;QAAO,CAAE;QAAA,uBAChC,QAAC,GAAG;UAAA,wBACF,QAAC,IAAI,CAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAoB,eAC/B,QAAC,IAAI,CAAC,OAAO;YACX,EAAE,EAAC,UAAU;YACb,IAAI,EAAC,OAAO;YACZ,KAAK,EAAExC,cAAc,CAACG,KAAM;YAC5B,QAAQ,EAAEO;UAAa;YAAA;YAAA;YAAA;UAAA,QACvB;QAAA;UAAA;UAAA;UAAA;QAAA;MACE;QAAA;QAAA;QAAA;MAAA,QACF,eACN,QAAC,GAAG;QAAC,KAAK,EAAE;UAAE8B,SAAS,EAAE;QAAO,CAAE;QAAA,uBAChC,QAAC,GAAG;UAAA,uBACF,QAAC,IAAI,CAAC,OAAO;YAAC,IAAI,EAAC,MAAM;YAAC,IAAI,EAAC,MAAM;YAAC,QAAQ,EAAE1B;UAAiB;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA;MAChE;QAAA;QAAA;QAAA;MAAA,QACF,eACN,QAAC,GAAG;QACF,KAAK,EAAE;UACLgC,MAAM,EAAE,MAAM;UACdC,cAAc,EAAE;QAClB,CAAE;QAAA,uBAEF,QAAC,MAAM;UAAC,IAAI,EAAC,QAAQ;UAAC,OAAO,EAAC,SAAS;UAAC,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAM,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAE1D;QAAA;QAAA;QAAA;MAAA,QACL;IAAA;MAAA;MAAA;MAAA;IAAA,QAID;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEhB;AAAC,GArIQzD,UAAU;EAAA,QAEAP,WAAW,EACXC,WAAW;AAAA;AAAA,KAHrBM,UAAU;AAuInB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module"}