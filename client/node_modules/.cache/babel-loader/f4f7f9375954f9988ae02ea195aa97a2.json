{"ast":null,"code":"var _jsxFileName = \"/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/AssignmentRow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { FaTrashAlt, FaCheck } from \"react-icons/fa\";\nimport Button from \"react-bootstrap/Button\";\nimport { Form } from \"react-bootstrap\";\nimport FileButton from \"./FileButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AssignmentRow(_ref) {\n  _s();\n  let {\n    id,\n    name,\n    subject,\n    notes,\n    tutorId,\n    studentId,\n    setStudents,\n    tutor,\n    fileUrl\n  } = _ref;\n  const {\n    currentUser\n  } = useContext(UserContext);\n  const [errors, setErrors] = useState([]);\n  const [editing, setEditing] = useState(false);\n  const [formData, setFormData] = useState({\n    name: name,\n    subject: subject,\n    notes: notes,\n    fileUrl: fileUrl\n  });\n  function handleDelete(id) {\n    fetch(`/assignments/${id}`, {\n      method: \"DELETE\"\n    }).then(resp => {\n      if (!resp.ok) {\n        resp.json().then(err => {\n          setErrors(err.error);\n        });\n      } else {\n        setStudents(prevStudents => {\n          const newStudents = prevStudents.map(student => {\n            if (student.id === studentId) {\n              student.assignments = student.assignments.filter(assignment => assignment.id !== id);\n            }\n            return student;\n          });\n          return newStudents;\n        });\n      }\n    });\n  }\n  function handleChange(e) {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  }\n  function handleUpdate() {\n    setEditing(!editing);\n    fetch(`/assignments/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    }).then(resp => resp.json()).then(updatedChore => {\n      console.log(updatedChore);\n      setFormData({\n        ...formData,\n        updatedChore\n      });\n    });\n  }\n  function tableDataOrInputs() {\n    if (!editing) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: formData.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: formData.subject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: formData.notes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(FileButton, {\n            fileUrl: formData.fileUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), currentUser.type === \"Student\" ? /*#__PURE__*/_jsxDEV(\"td\", {\n          children: tutor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 45\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [currentUser.id === tutorId ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {\n              onClick: () => handleDelete(id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"subjects\",\n            value: formData.subject,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"notes\",\n            value: formData.notes,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: handleUpdate,\n            children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: tableDataOrInputs()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 10\n  }, this);\n}\n_s(AssignmentRow, \"ZBvITNhHMP+DbxT7FiYdrUjTjlE=\");\n_c = AssignmentRow;\nexport default AssignmentRow;\nvar _c;\n$RefreshReg$(_c, \"AssignmentRow\");","map":{"version":3,"names":["React","useState","useContext","UserContext","FaTrashAlt","FaCheck","Button","Form","FileButton","AssignmentRow","id","name","subject","notes","tutorId","studentId","setStudents","tutor","fileUrl","currentUser","errors","setErrors","editing","setEditing","formData","setFormData","handleDelete","fetch","method","then","resp","ok","json","err","error","prevStudents","newStudents","map","student","assignments","filter","assignment","handleChange","e","target","value","handleUpdate","headers","body","JSON","stringify","updatedChore","console","log","tableDataOrInputs","type"],"sources":["/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/AssignmentRow.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { FaTrashAlt, FaCheck } from \"react-icons/fa\";\nimport Button from \"react-bootstrap/Button\";\nimport { Form } from \"react-bootstrap\";\nimport FileButton from \"./FileButton\";\n\nfunction AssignmentRow({\n  id,\n  name,\n  subject,\n  notes,\n  tutorId,\n  studentId,\n  setStudents,\n  tutor,\n  fileUrl,\n}) {\n  const { currentUser } = useContext(UserContext);\n  const [errors, setErrors] = useState([]);\n  const [editing, setEditing] = useState(false);\n  const [formData, setFormData] = useState({\n    name: name,\n    subject: subject,\n    notes: notes,\n    fileUrl: fileUrl,\n  });\n\n  function handleDelete(id) {\n    fetch(`/assignments/${id}`, {\n      method: \"DELETE\",\n    }).then((resp) => {\n      if (!resp.ok) {\n        resp.json().then((err) => {\n          setErrors(err.error);\n        });\n      } else {\n        setStudents((prevStudents) => {\n          const newStudents = prevStudents.map((student) => {\n            if (student.id === studentId) {\n              student.assignments = student.assignments.filter(\n                (assignment) => assignment.id !== id\n              );\n            }\n            return student;\n          });\n          return newStudents;\n        });\n      }\n    });\n  }\n\n  function handleChange(e) {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  }\n\n  function handleUpdate() {\n    setEditing(!editing);\n    fetch(`/assignments/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((resp) => resp.json())\n      .then((updatedChore) => {\n        console.log(updatedChore);\n        setFormData({ ...formData, updatedChore });\n      });\n  }\n\n  function tableDataOrInputs() {\n    if (!editing) {\n      return (\n        <>\n          <td>{formData.name}</td>\n          <td>{formData.subject}</td>\n          <td>{formData.notes}</td>\n          <td>\n            <FileButton fileUrl={formData.fileUrl} />\n          </td>\n          {currentUser.type === \"Student\" ? <td>{tutor}</td> : null}\n          <td>\n            {currentUser.id === tutorId ? (\n              <Button variant='danger'>\n                <FaTrashAlt onClick={() => handleDelete(id)} />\n              </Button>\n            ) : null}\n            <p>{errors}</p>\n          </td>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <td>\n            <Form.Control\n              type='text'\n              name='name'\n              value={formData.name}\n              onChange={handleChange}\n            ></Form.Control>\n          </td>\n          <td>\n            <Form.Control\n              type='text'\n              name='subjects'\n              value={formData.subject}\n              onChange={handleChange}\n            ></Form.Control>\n          </td>\n          <td>\n            <Form.Control\n              type='text'\n              name='notes'\n              value={formData.notes}\n              onChange={handleChange}\n            ></Form.Control>\n          </td>\n          <td>\n            <Button variant='success' onClick={handleUpdate}>\n              <FaCheck />\n            </Button>\n          </td>\n        </>\n      );\n    }\n  }\n\n  return <tr>{tableDataOrInputs()}</tr>;\n}\n\nexport default AssignmentRow;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,UAAU,EAAEC,OAAO,QAAQ,gBAAgB;AACpD,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,IAAI,QAAQ,iBAAiB;AACtC,OAAOC,UAAU,MAAM,cAAc;AAAC;AAAA;AAEtC,SAASC,aAAa,OAUnB;EAAA;EAAA,IAVoB;IACrBC,EAAE;IACFC,IAAI;IACJC,OAAO;IACPC,KAAK;IACLC,OAAO;IACPC,SAAS;IACTC,WAAW;IACXC,KAAK;IACLC;EACF,CAAC;EACC,MAAM;IAAEC;EAAY,CAAC,GAAGjB,UAAU,CAACC,WAAW,CAAC;EAC/C,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACuB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC;IACvCU,IAAI,EAAEA,IAAI;IACVC,OAAO,EAAEA,OAAO;IAChBC,KAAK,EAAEA,KAAK;IACZK,OAAO,EAAEA;EACX,CAAC,CAAC;EAEF,SAASQ,YAAY,CAAChB,EAAE,EAAE;IACxBiB,KAAK,CAAE,gBAAejB,EAAG,EAAC,EAAE;MAC1BkB,MAAM,EAAE;IACV,CAAC,CAAC,CAACC,IAAI,CAAEC,IAAI,IAAK;MAChB,IAAI,CAACA,IAAI,CAACC,EAAE,EAAE;QACZD,IAAI,CAACE,IAAI,EAAE,CAACH,IAAI,CAAEI,GAAG,IAAK;UACxBZ,SAAS,CAACY,GAAG,CAACC,KAAK,CAAC;QACtB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLlB,WAAW,CAAEmB,YAAY,IAAK;UAC5B,MAAMC,WAAW,GAAGD,YAAY,CAACE,GAAG,CAAEC,OAAO,IAAK;YAChD,IAAIA,OAAO,CAAC5B,EAAE,KAAKK,SAAS,EAAE;cAC5BuB,OAAO,CAACC,WAAW,GAAGD,OAAO,CAACC,WAAW,CAACC,MAAM,CAC7CC,UAAU,IAAKA,UAAU,CAAC/B,EAAE,KAAKA,EAAE,CACrC;YACH;YACA,OAAO4B,OAAO;UAChB,CAAC,CAAC;UACF,OAAOF,WAAW;QACpB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAEA,SAASM,YAAY,CAACC,CAAC,EAAE;IACvBlB,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACmB,CAAC,CAACC,MAAM,CAACjC,IAAI,GAAGgC,CAAC,CAACC,MAAM,CAACC;IAAM,CAAC,CAAC;EAC/D;EAEA,SAASC,YAAY,GAAG;IACtBvB,UAAU,CAAC,CAACD,OAAO,CAAC;IACpBK,KAAK,CAAE,gBAAejB,EAAG,EAAC,EAAE;MAC1BkB,MAAM,EAAE,OAAO;MACfmB,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC1B,QAAQ;IAC/B,CAAC,CAAC,CACCK,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACE,IAAI,EAAE,CAAC,CAC3BH,IAAI,CAAEsB,YAAY,IAAK;MACtBC,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;MACzB1B,WAAW,CAAC;QAAE,GAAGD,QAAQ;QAAE2B;MAAa,CAAC,CAAC;IAC5C,CAAC,CAAC;EACN;EAEA,SAASG,iBAAiB,GAAG;IAC3B,IAAI,CAAChC,OAAO,EAAE;MACZ,oBACE;QAAA,wBACE;UAAA,UAAKE,QAAQ,CAACb;QAAI;UAAA;UAAA;UAAA;QAAA,QAAM,eACxB;UAAA,UAAKa,QAAQ,CAACZ;QAAO;UAAA;UAAA;UAAA;QAAA,QAAM,eAC3B;UAAA,UAAKY,QAAQ,CAACX;QAAK;UAAA;UAAA;UAAA;QAAA,QAAM,eACzB;UAAA,uBACE,QAAC,UAAU;YAAC,OAAO,EAAEW,QAAQ,CAACN;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACtC,EACJC,WAAW,CAACoC,IAAI,KAAK,SAAS,gBAAG;UAAA,UAAKtC;QAAK;UAAA;UAAA;UAAA;QAAA,QAAM,GAAG,IAAI,eACzD;UAAA,WACGE,WAAW,CAACT,EAAE,KAAKI,OAAO,gBACzB,QAAC,MAAM;YAAC,OAAO,EAAC,QAAQ;YAAA,uBACtB,QAAC,UAAU;cAAC,OAAO,EAAE,MAAMY,YAAY,CAAChB,EAAE;YAAE;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA,QACxC,GACP,IAAI,eACR;YAAA,UAAIU;UAAM;YAAA;YAAA;YAAA;UAAA,QAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QACZ;MAAA,gBACJ;IAEP,CAAC,MAAM;MACL,oBACE;QAAA,wBACE;UAAA,uBACE,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,IAAI,EAAC,MAAM;YACX,KAAK,EAAEI,QAAQ,CAACb,IAAK;YACrB,QAAQ,EAAE+B;UAAa;YAAA;YAAA;YAAA;UAAA;QACT;UAAA;UAAA;UAAA;QAAA,QACb,eACL;UAAA,uBACE,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,IAAI,EAAC,UAAU;YACf,KAAK,EAAElB,QAAQ,CAACZ,OAAQ;YACxB,QAAQ,EAAE8B;UAAa;YAAA;YAAA;YAAA;UAAA;QACT;UAAA;UAAA;UAAA;QAAA,QACb,eACL;UAAA,uBACE,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,IAAI,EAAC,OAAO;YACZ,KAAK,EAAElB,QAAQ,CAACX,KAAM;YACtB,QAAQ,EAAE6B;UAAa;YAAA;YAAA;YAAA;UAAA;QACT;UAAA;UAAA;UAAA;QAAA,QACb,eACL;UAAA,uBACE,QAAC,MAAM;YAAC,OAAO,EAAC,SAAS;YAAC,OAAO,EAAEI,YAAa;YAAA,uBAC9C,QAAC,OAAO;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA;QACJ;UAAA;UAAA;UAAA;QAAA,QACN;MAAA,gBACJ;IAEP;EACF;EAEA,oBAAO;IAAA,UAAKQ,iBAAiB;EAAE;IAAA;IAAA;IAAA;EAAA,QAAM;AACvC;AAAC,GA5HQ7C,aAAa;AAAA,KAAbA,aAAa;AA8HtB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module"}