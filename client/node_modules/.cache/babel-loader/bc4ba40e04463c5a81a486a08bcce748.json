{"ast":null,"code":"var _jsxFileName = \"/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaCheck } from \"react-icons/fa\";\nimport Button from \"react-bootstrap/Button\";\nimport { Container, Form } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser,\n    setStudents,\n    avatar\n  } = useContext(UserContext);\n  const [editing, setEditing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const navigate = useNavigate();\n  function handleChange(e) {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  }\n  function handleEdit() {\n    setEditing(!editing);\n    setFormData({\n      name: currentUser.name,\n      subjects: currentUser.subjects,\n      headline: currentUser.headline\n    });\n  }\n  function handleDelete() {\n    fetch(`/users/${currentUser.id}`, {\n      method: \"DELETE\"\n    });\n    setCurrentUser({});\n    setStudents([]);\n    navigate(\"/\");\n  }\n  function handleUpdate() {\n    setEditing(!editing);\n    fetch(`/users/${currentUser.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    }).then(resp => resp.json()).then(updatedUser => {\n      setCurrentUser(updatedUser);\n      setFormData({});\n    });\n  }\n  function tableDataOrInputs() {\n    if (!editing) {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            height: \"128px\",\n            width: \"128px\"\n          },\n          src: avatar ? avatar : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\",\n          alt: \"user's avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: \"16px\"\n          },\n          children: currentUser.subjects\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentUser.headline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: handleEdit,\n            style: {\n              marginRight: \"16px\"\n            },\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleDelete,\n            children: \"Delete Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        style: {\n          width: \"30%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleChange,\n          style: {\n            marginBottom: \"8px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), currentUser.type === \"Tutor\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"subjects\",\n            value: formData.subjects,\n            onChange: handleChange,\n            style: {\n              marginBottom: \"8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            name: \"headline\",\n            value: formData.headline,\n            onChange: handleChange,\n            style: {\n              marginBottom: \"8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : null, /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: handleUpdate,\n          children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginTop: \"24px\",\n      padding: \"24px\",\n      border: \".5px solid grey\",\n      borderRadius: \"8px\",\n      width: \"75%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        border: \".5px solid grey\",\n        marginBottom: \"24px\",\n        borderRadius: \"8px\",\n        padding: \"8px\"\n      },\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), tableDataOrInputs()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"0JjG8Z9IlACIiKCPVYGb3xrJjDA=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useContext","UserContext","useNavigate","FaCheck","Button","Container","Form","Profile","currentUser","setCurrentUser","setStudents","avatar","editing","setEditing","formData","setFormData","navigate","handleChange","e","target","name","value","handleEdit","subjects","headline","handleDelete","fetch","id","method","handleUpdate","headers","body","JSON","stringify","then","resp","json","updatedUser","tableDataOrInputs","height","width","marginTop","marginRight","marginBottom","type","padding","border","borderRadius"],"sources":["/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/Profile.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { UserContext } from \"./App\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaCheck } from \"react-icons/fa\";\nimport Button from \"react-bootstrap/Button\";\nimport { Container, Form } from \"react-bootstrap\";\n\nfunction Profile() {\n  const { currentUser, setCurrentUser, setStudents, avatar } =\n    useContext(UserContext);\n  const [editing, setEditing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const navigate = useNavigate();\n\n  function handleChange(e) {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  }\n\n  function handleEdit() {\n    setEditing(!editing);\n    setFormData({\n      name: currentUser.name,\n      subjects: currentUser.subjects,\n      headline: currentUser.headline,\n    });\n  }\n\n  function handleDelete() {\n    fetch(`/users/${currentUser.id}`, {\n      method: \"DELETE\",\n    });\n    setCurrentUser({});\n    setStudents([]);\n    navigate(\"/\");\n  }\n\n  function handleUpdate() {\n    setEditing(!editing);\n    fetch(`/users/${currentUser.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((resp) => resp.json())\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n        setFormData({});\n      });\n  }\n\n  function tableDataOrInputs() {\n    if (!editing) {\n      return (\n        <Container>\n          <p>{currentUser.name}</p>\n          <img\n            style={{ height: \"128px\", width: \"128px\" }}\n            src={\n              avatar\n                ? avatar\n                : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\n            }\n            alt=\"user's avatar\"\n          />\n          <br />\n          <p style={{ marginTop: \"16px\" }}>{currentUser.subjects}</p>\n          <p>{currentUser.headline}</p>\n          <br />\n          <p>\n            <Button\n              variant='warning'\n              onClick={handleEdit}\n              style={{ marginRight: \"16px\" }}\n            >\n              Edit Profile\n            </Button>\n            <Button variant='danger' onClick={handleDelete}>\n              Delete Account\n            </Button>\n          </p>\n        </Container>\n      );\n    } else {\n      return (\n        <Container style={{ width: \"30%\" }}>\n          <Form.Control\n            type='text'\n            name='name'\n            value={formData.name}\n            onChange={handleChange}\n            style={{ marginBottom: \"8px\" }}\n          ></Form.Control>\n\n          {currentUser.type === \"Tutor\" ? (\n            <>\n              <Form.Control\n                type='text'\n                name='subjects'\n                value={formData.subjects}\n                onChange={handleChange}\n                style={{ marginBottom: \"8px\" }}\n              ></Form.Control>\n              <Form.Control\n                as='textarea'\n                rows={3}\n                name='headline'\n                value={formData.headline}\n                onChange={handleChange}\n                style={{ marginBottom: \"8px\" }}\n              ></Form.Control>\n            </>\n          ) : null}\n\n          <Button variant='success' onClick={handleUpdate}>\n            <FaCheck />\n          </Button>\n        </Container>\n      );\n    }\n  }\n\n  return (\n    <Container\n      style={{\n        marginTop: \"24px\",\n        padding: \"24px\",\n        border: \".5px solid grey\",\n        borderRadius: \"8px\",\n        width: \"75%\",\n      }}\n    >\n      <h2\n        style={{\n          border: \".5px solid grey\",\n          marginBottom: \"24px\",\n          borderRadius: \"8px\",\n          padding: \"8px\",\n        }}\n      >\n        Profile\n      </h2>\n      <br />\n      {tableDataOrInputs()}\n    </Container>\n  );\n}\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}