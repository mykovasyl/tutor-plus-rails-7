{"ast":null,"code":"var _jsxFileName = \"/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport React, { useState, useEffect, createContext } from \"react\";\nimport NavBar from \"./NavBar\";\nimport Home from \"./Home\";\nimport FindStudents from \"./FindStudents\";\nimport Students from \"./Students\";\nimport AssignWork from \"./AssignWork\";\nimport SignUp from \"./SignUp\";\nimport LogIn from \"./LogIn\";\nimport Profile from \"./Profile\";\nimport StudentAssignments from \"./StudentAssignments\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext();\nfunction App() {\n  _s();\n  const [errors, setErrors] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [students, setStudents] = useState([]);\n  const [avatar, setAvatar] = useState(null);\n  const navigate = useNavigate();\n\n  // fetch current user if exists\n  useEffect(() => {\n    fetch(\"/me\").then(resp => {\n      if (resp.ok) {\n        resp.json().then(user => {\n          setCurrentUser(user);\n          if (user.type === \"Tutor\") {\n            // new hash map to get unique students\n            let studentsList = [...new Map(user.students.map(student => [student[\"id\"], student])).values()];\n            setStudents(studentsList);\n            setErrors([]);\n          } else {\n            // let tutorsList = [\n            //   ...new Map(\n            //     user.tutors.map((tutor) => [tutor[\"id\"], tutor])\n            //   ).values(),\n            // ];\n            setErrors([]);\n          }\n          setAvatar(user.image_url);\n        });\n      } else {\n        resp.json().then(error => setErrors(error));\n      }\n    });\n  }, []);\n\n  // log out current user and reset state\n  function handleLogOut() {\n    fetch(\"/logout\", {\n      method: \"DELETE\"\n    });\n    setCurrentUser({});\n    setStudents([]);\n    navigate(\"/\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: {\n        currentUser,\n        setCurrentUser,\n        students,\n        setStudents,\n        avatar,\n        setAvatar,\n        handleLogOut,\n        setErrors\n      },\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/students\",\n            element: /*#__PURE__*/_jsxDEV(Students, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/assignwork\",\n            element: /*#__PURE__*/_jsxDEV(AssignWork, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/findstudents\",\n            element: /*#__PURE__*/_jsxDEV(FindStudents, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/assignments\",\n            element: /*#__PURE__*/_jsxDEV(StudentAssignments, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LogIn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"404 path not found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"22wHQ9LWJkVhCLgmoluo2elFGU8=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Route","Routes","useNavigate","React","useState","useEffect","createContext","NavBar","Home","FindStudents","Students","AssignWork","SignUp","LogIn","Profile","StudentAssignments","UserContext","App","errors","setErrors","currentUser","setCurrentUser","students","setStudents","avatar","setAvatar","navigate","fetch","then","resp","ok","json","user","type","studentsList","Map","map","student","values","image_url","error","handleLogOut","method"],"sources":["/Users/mykolavasylyev/Development/Portfolio/tutorplus/tutor-plus/client/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport React, { useState, useEffect, createContext } from \"react\";\nimport NavBar from \"./NavBar\";\nimport Home from \"./Home\";\nimport FindStudents from \"./FindStudents\";\nimport Students from \"./Students\";\nimport AssignWork from \"./AssignWork\";\nimport SignUp from \"./SignUp\";\nimport LogIn from \"./LogIn\";\nimport Profile from \"./Profile\";\nimport StudentAssignments from \"./StudentAssignments\";\n\nexport const UserContext = createContext();\n\nfunction App() {\n  const [errors, setErrors] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [students, setStudents] = useState([]);\n  const [avatar, setAvatar] = useState(null);\n\n  const navigate = useNavigate();\n\n  // fetch current user if exists\n  useEffect(() => {\n    fetch(\"/me\").then((resp) => {\n      if (resp.ok) {\n        resp.json().then((user) => {\n          setCurrentUser(user);\n          if (user.type === \"Tutor\") {\n            // new hash map to get unique students\n            let studentsList = [\n              ...new Map(\n                user.students.map((student) => [student[\"id\"], student])\n              ).values(),\n            ];\n            setStudents(studentsList);\n            setErrors([]);\n          } else {\n            // let tutorsList = [\n            //   ...new Map(\n            //     user.tutors.map((tutor) => [tutor[\"id\"], tutor])\n            //   ).values(),\n            // ];\n            setErrors([]);\n          }\n          setAvatar(user.image_url);\n        });\n      } else {\n        resp.json().then((error) => setErrors(error));\n      }\n    });\n  }, []);\n\n  // log out current user and reset state\n  function handleLogOut() {\n    fetch(\"/logout\", {\n      method: \"DELETE\",\n    });\n    setCurrentUser({});\n    setStudents([]);\n    navigate(\"/\");\n  }\n\n  return (\n    <div className='App'>\n      <UserContext.Provider\n        value={{\n          currentUser,\n          setCurrentUser,\n          students,\n          setStudents,\n          avatar,\n          setAvatar,\n          handleLogOut,\n          setErrors,\n        }}\n      >\n        <NavBar />\n        <div>\n          <Routes>\n            <Route exact path='/' element={<Home />} />\n            <Route path='/students' element={<Students />} />\n            <Route path='/assignwork' element={<AssignWork />} />\n            <Route path='/findstudents' element={<FindStudents />} />\n            <Route path='/assignments' element={<StudentAssignments />} />\n            <Route path='/profile' element={<Profile />} />\n            <Route path='/signup' element={<SignUp />} />\n            <Route path='/login' element={<LogIn />} />\n            <Route\n              path='*'\n              element={\n                <>\n                  <h1>404 path not found</h1>\n                </>\n              }\n            />\n          </Routes>\n        </div>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}